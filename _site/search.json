[
  {
    "objectID": "results/relatorio.html",
    "href": "results/relatorio.html",
    "title": "Análise Estatística de Fatores de Risco para Doença Coronária",
    "section": "",
    "text": "O dataset provém de um estudo que analisou 297 pacientes na Cleveland Clinic para avaliação da Doença Coronária;\nO experimento envolveu 3 estágios:\n\nTeste de esforço (protocolo de Bruce)\nCinefluoroscopia\nAngiografia coronária\nCintilografia com Tálio-201\n\n\n\n\nage\nsex\ncp : tipo de dor no peito\n\nAngina Típica: Atende a três critérios (localização atrás do osso do peito, provocada por esforço/estresse e aliviada por repouso).\nAngina Atípica: Atende a apenas dois desses critérios.\nDor Não Anginosa: Atende a apenas um ou nenhum dos critérios, sugerindo que a causa pode ser muscular ou gástrica (não cardíaca).\nAssintomático: O paciente não sente dor, mas o médico ainda assim solicitou os exames devido a outros fatores de risco (como idade ou histórico familiar).\n\nthalach : Frequência cardíaca máxima atingida antes da exaustão ou sintomas (no teste de esforço).\nexang : Indica se o paciente sentiu angina (dor) durante o exercício.\noldpeak : diferença entre a posição do segmento ST (ECG) no repouso e no pico do esforço (thalac) (quanto maior essa diferença, maior é a área do coração que sofre por falta de sangue)\nslope : Enquanto o oldpeak diz o quanto a linha afundou, o slope diz como ela se comporta logo após o afundamento. Existem três tipos principais de inclinação:\n\nValue 0: Upsloping (Ascendente): A linha afunda, mas sobe rápido. É comum em exercícios intensos e nem sempre indica doença grave.\nValue 1: Flat (Plano): A linha afunda e fica “reta”. É um sinal clássico e preocupante de isquemia.\nValue 2: Downsloping (Descendente): A linha afunda e continua descendo. É o sinal mais grave de todos, indicando que o coração está em alto sofrimento isquêmico. (mesmo após a interrupção do esforço)\n\nca : Número de vasos principais com depósitos de cálcio ou interrupções no fluxo.\n\n0: Nenhuma calcificação significativa (indício de artérias limpas)\n1, 2 o u 3: Indica que a doença está presente em um, dois ou três vasos principais.\n\nthal : Avalia se o sangue está chegando a todas as partes do coração durante o repouso e após o esforço.\n\n0 = Normal: O contraste se distribui uniformemente por todo o coração.\n1 = Fixed Defect (Defeito Fixo): Uma parte do coração não recebe o contraste nem no esforço, nem no repouso. Isso geralmente indica tecido morto (cicatriz de um infarto antigo).\n2 = Reversable Defect (Defeito Reversível): O coração parece normal em repouso, mas “falta sangue” em alguma região durante o esforço. Isso é o sinal clássico de isquemia ativa: a artéria está entupida, mas o tecido ainda está vivo e sofrendo.\n\ncondition (target)\ntrestbps : É a pressão arterial medida no momento da internação.\nfbs : Glicemia de Jejum é maior ou menor que 120mg/dl (binário)\nchol : nível total de colesterol no sangue.\nrestecg :\n\nValue 0 (Normal): O coração em repouso não apresenta irregularidades elétricas.\nValue 1 (Anormalidade de Onda ST-T): O coração já mostra sinais de sofrimento mesmo sem fazer esforço. É um sinal de alerta precoce.\nValue 2 (Hipertrofia Ventricular Esquerda): Indica que o músculo do coração está “inchado” (grosso), geralmente por ter que fazer muita força para bombear o sangue contra uma pressão alta crônica."
  },
  {
    "objectID": "results/relatorio.html#variáveis-analisadas",
    "href": "results/relatorio.html#variáveis-analisadas",
    "title": "Análise Estatística de Fatores de Risco para Doença Coronária",
    "section": "",
    "text": "age\nsex\ncp : tipo de dor no peito\n\nAngina Típica: Atende a três critérios (localização atrás do osso do peito, provocada por esforço/estresse e aliviada por repouso).\nAngina Atípica: Atende a apenas dois desses critérios.\nDor Não Anginosa: Atende a apenas um ou nenhum dos critérios, sugerindo que a causa pode ser muscular ou gástrica (não cardíaca).\nAssintomático: O paciente não sente dor, mas o médico ainda assim solicitou os exames devido a outros fatores de risco (como idade ou histórico familiar).\n\nthalach : Frequência cardíaca máxima atingida antes da exaustão ou sintomas (no teste de esforço).\nexang : Indica se o paciente sentiu angina (dor) durante o exercício.\noldpeak : diferença entre a posição do segmento ST (ECG) no repouso e no pico do esforço (thalac) (quanto maior essa diferença, maior é a área do coração que sofre por falta de sangue)\nslope : Enquanto o oldpeak diz o quanto a linha afundou, o slope diz como ela se comporta logo após o afundamento. Existem três tipos principais de inclinação:\n\nValue 0: Upsloping (Ascendente): A linha afunda, mas sobe rápido. É comum em exercícios intensos e nem sempre indica doença grave.\nValue 1: Flat (Plano): A linha afunda e fica “reta”. É um sinal clássico e preocupante de isquemia.\nValue 2: Downsloping (Descendente): A linha afunda e continua descendo. É o sinal mais grave de todos, indicando que o coração está em alto sofrimento isquêmico. (mesmo após a interrupção do esforço)\n\nca : Número de vasos principais com depósitos de cálcio ou interrupções no fluxo.\n\n0: Nenhuma calcificação significativa (indício de artérias limpas)\n1, 2 o u 3: Indica que a doença está presente em um, dois ou três vasos principais.\n\nthal : Avalia se o sangue está chegando a todas as partes do coração durante o repouso e após o esforço.\n\n0 = Normal: O contraste se distribui uniformemente por todo o coração.\n1 = Fixed Defect (Defeito Fixo): Uma parte do coração não recebe o contraste nem no esforço, nem no repouso. Isso geralmente indica tecido morto (cicatriz de um infarto antigo).\n2 = Reversable Defect (Defeito Reversível): O coração parece normal em repouso, mas “falta sangue” em alguma região durante o esforço. Isso é o sinal clássico de isquemia ativa: a artéria está entupida, mas o tecido ainda está vivo e sofrendo.\n\ncondition (target)\ntrestbps : É a pressão arterial medida no momento da internação.\nfbs : Glicemia de Jejum é maior ou menor que 120mg/dl (binário)\nchol : nível total de colesterol no sangue.\nrestecg :\n\nValue 0 (Normal): O coração em repouso não apresenta irregularidades elétricas.\nValue 1 (Anormalidade de Onda ST-T): O coração já mostra sinais de sofrimento mesmo sem fazer esforço. É um sinal de alerta precoce.\nValue 2 (Hipertrofia Ventricular Esquerda): Indica que o músculo do coração está “inchado” (grosso), geralmente por ter que fazer muita força para bombear o sangue contra uma pressão alta crônica."
  },
  {
    "objectID": "results/relatorio.html#modelo-com-todas-as-variáveis",
    "href": "results/relatorio.html#modelo-com-todas-as-variáveis",
    "title": "Análise Estatística de Fatores de Risco para Doença Coronária",
    "section": "Modelo com todas as variáveis",
    "text": "Modelo com todas as variáveis\n\nformula1 &lt;- condition ~ age + sex + cp + thalach + exang +\n                         oldpeak + slope + ca + thal +\n                         trestbps + chol + fbs + restecg\n\nmodelo1_ &lt;- glm(formula1, data = treino, family = \"binomial\")\n\n\nsummary(modelo1_)\n\n\nCall:\nglm(formula = formula1, family = \"binomial\", data = treino)\n\nCoefficients:\n             Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept) -6.194972   3.665480  -1.690 0.091012 .  \nage         -0.026817   0.029325  -0.914 0.360473    \nsex1         1.751307   0.623152   2.810 0.004948 ** \ncp1          1.905287   0.923121   2.064 0.039021 *  \ncp2          0.321896   0.847290   0.380 0.704011    \ncp3          2.768984   0.864891   3.202 0.001367 ** \nthalach     -0.011517   0.012639  -0.911 0.362196    \nexang1       0.337282   0.550815   0.612 0.540317    \noldpeak      0.649698   0.283217   2.294 0.021791 *  \nslope1       1.341601   0.600799   2.233 0.025547 *  \nslope2       0.402313   1.023407   0.393 0.694237    \nca1          2.575920   0.637209   4.043 5.29e-05 ***\nca2          3.119482   0.851992   3.661 0.000251 ***\nca3          2.982628   1.206518   2.472 0.013432 *  \nthal1       -0.336710   0.979476  -0.344 0.731023    \nthal2        1.486334   0.518928   2.864 0.004180 ** \ntrestbps     0.014047   0.014133   0.994 0.320261    \nchol         0.005760   0.005651   1.019 0.308039    \nfbs1        -0.407723   0.701053  -0.582 0.560845    \nrestecg1     1.120803   3.359086   0.334 0.738634    \nrestecg2     0.261999   0.460966   0.568 0.569784    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 328.58  on 237  degrees of freedom\nResidual deviance: 141.26  on 217  degrees of freedom\nAIC: 183.26\n\nNumber of Fisher Scoring iterations: 6\n\n\nO AIC foi de 183.26.\nEmbora o modelo explique bem a variável alvo, é possível observar que a maioria das covariáveis não é estatísticamente significativa, segundo o teste de Wald.\nPara verificar isso, faremos um Teste de Razão de Verossimilhanças, verificando o impacto da retirada de cada variável.\n\npander(Anova(modelo1_, type = \"III\", test = \"LR\"))\n\n\nAnalysis of Deviance Table (Type III tests)\n\n\n\n\n\n\n\n\n \nLR Chisq\nDf\nPr(&gt;Chisq)\n\n\n\n\nage\n0.8384\n1\n0.3599\n\n\nsex\n8.776\n1\n0.003053\n\n\ncp\n20.58\n3\n0.0001287\n\n\nthalach\n0.8493\n1\n0.3568\n\n\nexang\n0.3705\n1\n0.5427\n\n\noldpeak\n5.789\n1\n0.01612\n\n\nslope\n5.689\n2\n0.05818\n\n\nca\n30.8\n3\n9.375e-07\n\n\nthal\n10.29\n2\n0.005832\n\n\ntrestbps\n0.9972\n1\n0.318\n\n\nchol\n1.046\n1\n0.3065\n\n\nfbs\n0.3411\n1\n0.5592\n\n\nrestecg\n0.4147\n2\n0.8127\n\n\n\n\n\nAqui é possível obervar que as variáveis que mais contribuem para o modelo são: sex, cp, oldpeak, slope, ca e thal\nPara verificar o impacto no modelo ao retirar essas variáveis, faremos o Teste de Razão de Verossimilhanças entre o modelo com todas as variáveis e o modelo sem as variáveis (age, thalach, exang, trestbps, chol, fbs, restecg)\n\n# Modelo reduzido ( com 6 variáveis )\nmodelo_reduzido_ &lt;- glm(condition ~  sex + cp +\n                        oldpeak + slope + ca + thal,\n                    data = treino, \n                    family = \"binomial\")\n\npander(anova(modelo1_, modelo_reduzido_, test = \"Chisq\"))\n\n\nAnalysis of Deviance Table\n\n\n\n\n\n\n\n\n\nResid. Df\nResid. Dev\nDf\nDeviance\nPr(&gt;Chi)\n\n\n\n\n217\n141.3\nNA\nNA\nNA\n\n\n225\n146\n-8\n-4.728\n0.7863\n\n\n\n\n\nO P-valor foi de 0.7863, ou seja, não há evidências de que o modelo com todas as variáveis seja melhor que o modelo reduzido. Então optamos pelo uso do modelo reduzido.\n\npander(Anova(modelo_reduzido_, type = \"III\", test = \"LR\"))\n\n\nAnalysis of Deviance Table (Type III tests)\n\n\n\n\n\n\n\n\n \nLR Chisq\nDf\nPr(&gt;Chisq)\n\n\n\n\nsex\n7.552\n1\n0.005995\n\n\ncp\n33.87\n3\n2.114e-07\n\n\noldpeak\n8.84\n1\n0.002947\n\n\nslope\n7.529\n2\n0.02318\n\n\nca\n36.4\n3\n6.159e-08\n\n\nthal\n13.53\n2\n0.001152\n\n\n\n\n\nTodas variáveis contribuem significativamente para o modelo."
  },
  {
    "objectID": "results/relatorio.html#analisando-os-coeficientes-do-modelo-reduzido",
    "href": "results/relatorio.html#analisando-os-coeficientes-do-modelo-reduzido",
    "title": "Análise Estatística de Fatores de Risco para Doença Coronária",
    "section": "Analisando os coeficientes do modelo reduzido",
    "text": "Analisando os coeficientes do modelo reduzido\n\nsummary(modelo_reduzido_)\n\n\nCall:\nglm(formula = condition ~ sex + cp + oldpeak + slope + ca + thal, \n    family = \"binomial\", data = treino)\n\nCoefficients:\n            Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)  -5.9413     1.0866  -5.468 4.55e-08 ***\nsex1          1.5013     0.5701   2.633 0.008457 ** \ncp1           1.9084     0.8790   2.171 0.029920 *  \ncp2           0.1321     0.8094   0.163 0.870380    \ncp3           2.8874     0.7625   3.787 0.000153 ***\noldpeak       0.7464     0.2675   2.790 0.005265 ** \nslope1        1.4200     0.5586   2.542 0.011027 *  \nslope2        0.3778     0.9772   0.387 0.699022    \nca1           2.4781     0.5834   4.248 2.16e-05 ***\nca2           2.7872     0.7884   3.535 0.000407 ***\nca3           3.0723     1.1399   2.695 0.007031 ** \nthal1        -0.4301     0.9152  -0.470 0.638360    \nthal2         1.6062     0.4905   3.275 0.001058 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 328.58  on 237  degrees of freedom\nResidual deviance: 145.99  on 225  degrees of freedom\nAIC: 171.99\n\nNumber of Fisher Scoring iterations: 6\n\n\nO AIC do modelo reduzido (171.99) foi menor que o do modelo completo, e a Deviance Residual foi aproximadamente igual. Ou seja, o modelo com menos variáveis conseguiu explicar tão bem os dados quanto o completo.\n\n# Calcula os Odds Ratios e os Intervalos de Confiança\nintervalos &lt;- exp(confint(modelo_reduzido_))\n\nWaiting for profiling to be done...\n\nors &lt;- exp(coef(modelo_reduzido_))\n\n# Cria o data frame e calcula a Amplitude\ntabela_coef &lt;- data.frame(\n  OR = ors,\n  \"2.5\" = intervalos[,1],\n  \"97.5\" = intervalos[,2],\n  Amplitude = intervalos[,2] - intervalos[,1] # Diferença absoluta\n)\n\npander(tabela_coef, \n       caption = \"Odds Ratios, Intervalos de Confiança e Amplitude\",\n       digits = 4)\n\n\nOdds Ratios, Intervalos de Confiança e Amplitude\n\n\n\n\n\n\n\n\n\n \nOR\nX2.5\nX97.5\nAmplitude\n\n\n\n\n(Intercept)\n0.002629\n0.0002555\n0.01868\n0.01842\n\n\nsex1\n4.487\n1.524\n14.54\n13.02\n\n\ncp1\n6.742\n1.257\n40.86\n39.6\n\n\ncp2\n1.141\n0.2326\n5.755\n5.522\n\n\ncp3\n17.95\n4.36\n89.08\n84.72\n\n\noldpeak\n2.109\n1.278\n3.68\n2.401\n\n\nslope1\n4.137\n1.427\n12.99\n11.56\n\n\nslope2\n1.459\n0.2034\n9.701\n9.497\n\n\nca1\n11.92\n3.986\n39.93\n35.94\n\n\nca2\n16.24\n3.77\n83.96\n80.19\n\n\nca3\n21.59\n2.872\n261.3\n258.5\n\n\nthal1\n0.6504\n0.1084\n4.116\n4.008\n\n\nthal2\n4.984\n1.94\n13.45\n11.51\n\n\n\n\n\nÉ possível observar que alguns coeficientes estimados são muito incertos (o modelo não conseguiu definir se a associação entre a respectiva variável e o target era positiva ou negativa);\nEssas variáveis foram : cp2, slope2 e thal1\nOutros coeficientes tinham IC com amplitude grande demais, como foi o caso de cp3, ca3, ca2\nOu seja, o modelo não conseguiu estimar precisamente esses coeficientes\nUma possível motivação para isso é que essas variáveis categóricas possuem algumas classes subrepresentadas no dataset, dificultando a estimação dos parâmetros."
  },
  {
    "objectID": "results/relatorio.html#treinando-modelo-com-agrupamento-de-classes-subrepresentadas",
    "href": "results/relatorio.html#treinando-modelo-com-agrupamento-de-classes-subrepresentadas",
    "title": "Análise Estatística de Fatores de Risco para Doença Coronária",
    "section": "Treinando modelo com agrupamento de classes subrepresentadas",
    "text": "Treinando modelo com agrupamento de classes subrepresentadas\n\ncp :\n\ncom_dor : {0, 1, 2}\nsem_dor : {3}\n\nslope :\n\nasc : {0}\nnot_asc : {1, 2}\n\nca :\n\nzero : {0}\nnot_zero : {1, 2, 3}\n\nthal :\n\nnormal : {0}\nnot_normal : {1, 2}\n\n\n\nmodelo_agrupado &lt;- glm(condition ~ sex+ cp +\n                   oldpeak + slope + ca + thal, \n                 data = treino_agrupado, \n                 family = \"binomial\")\n\n\nsummary(modelo_agrupado)\n\n\nCall:\nglm(formula = condition ~ sex + cp + oldpeak + slope + ca + thal, \n    family = \"binomial\", data = treino_agrupado)\n\nCoefficients:\n                Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)      -2.1741     0.5627  -3.864 0.000112 ***\nsex1              1.1387     0.4984   2.285 0.022342 *  \ncp_sem dor        2.1247     0.4299   4.943 7.70e-07 ***\noldpeak           0.5708     0.2290   2.493 0.012669 *  \nslope_not_asc     0.9416     0.4819   1.954 0.050691 .  \nca_zero          -2.3326     0.4465  -5.224 1.75e-07 ***\nthal_not_normal   1.2461     0.4543   2.743 0.006092 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 328.58  on 237  degrees of freedom\nResidual deviance: 157.70  on 231  degrees of freedom\nAIC: 171.7\n\nNumber of Fisher Scoring iterations: 6\n\n\n\n# Calcula os Odds Ratios e os Intervalos de Confiança\nintervalos &lt;- exp(confint(modelo_agrupado))\n\nWaiting for profiling to be done...\n\nors &lt;- exp(coef(modelo_agrupado))\n\n# Cria o data frame e calcula a Amplitude\ntabela_coef &lt;- data.frame(\n  OR = ors,\n  \"2.5\" = intervalos[,1],\n  \"97.5\" = intervalos[,2],\n  Amplitude = intervalos[,2] - intervalos[,1] # Diferença absoluta\n)\n\npander(tabela_coef, \n       caption = \"Odds Ratios, Intervalos de Confiança e Amplitude\",\n       digits = 4)\n\n\nOdds Ratios, Intervalos de Confiança e Amplitude\n\n\n\n\n\n\n\n\n\n \nOR\nX2.5\nX97.5\nAmplitude\n\n\n\n\n(Intercept)\n0.1137\n0.0346\n0.3199\n0.2853\n\n\nsex1\n3.123\n1.196\n8.564\n7.368\n\n\ncp_sem dor\n8.37\n3.71\n20.25\n16.54\n\n\noldpeak\n1.77\n1.15\n2.836\n1.686\n\n\nslope_not_asc\n2.564\n1.004\n6.721\n5.717\n\n\nca_zero\n0.09704\n0.03845\n0.2243\n0.1859\n\n\nthal_not_normal\n3.477\n1.439\n8.636\n7.198\n\n\n\n\n\nAqui, é possível observar que os parâmetros estão mais estáveis e os odds ratios estão mais de acordo com os insights obtidos na EDA;"
  },
  {
    "objectID": "results/relatorio.html#verificando-o-desempenho-do-modelo-no-conjunto-de-teste-via-boostrap",
    "href": "results/relatorio.html#verificando-o-desempenho-do-modelo-no-conjunto-de-teste-via-boostrap",
    "title": "Análise Estatística de Fatores de Risco para Doença Coronária",
    "section": "Verificando o desempenho do modelo no conjunto de teste (via boostrap)",
    "text": "Verificando o desempenho do modelo no conjunto de teste (via boostrap)\n\n# BOOTSTRAP\nset.seed(123)\nn_boot &lt;- 1000\n\n# Bootstrap para os 3 modelos principais\nboot_reduzido &lt;- boot(data = teste, statistic = calc_boot_metrics, \n                      R = n_boot, modelo = modelo_reduzido_, tipo_modelo = \"glm\")\n\nboot_agrupado &lt;- boot(data = teste_agrupado, statistic = calc_boot_metrics, \n                      R = n_boot, modelo = modelo_agrupado, tipo_modelo = \"glm\")\n\nboot_arvore   &lt;- boot(data = teste_agrupado, statistic = calc_boot_metrics, \n                      R = n_boot, modelo = arvore_limpa, tipo_modelo = \"tree\")\n\n\ntabela_bootstrap &lt;- rbind(\n  summarize_boot(boot_reduzido, \"Logística Reduzida\"),\n  summarize_boot(boot_agrupado, \"Logística Agrupada\"),\n  summarize_boot(boot_arvore, \"Árvore de Decisão\")\n)\n\n\ntabela_ordenada &lt;- tabela_bootstrap %&gt;%\n  arrange(Metrica, desc(Modelo))\n\npander(tabela_ordenada, \n       caption = \"Métricas de Performance Ordenadas (Média e IC de 95%)\",\n       split.table = Inf, # Evita que a tabela quebre em colunas\n       digits = 4)\n\n\nMétricas de Performance Ordenadas (Média e IC de 95%)\n\n\n\n\n\n\n\n\n\nModelo\nMetrica\nMedia\nIC_Lower\nIC_Upper\n\n\n\n\nÁrvore de Decisão\nAUC\n0.8279\n0.7137\n0.9306\n\n\nLogística Reduzida\nAUC\n0.8683\n0.7564\n0.9628\n\n\nLogística Agrupada\nAUC\n0.8836\n0.775\n0.9674\n\n\nÁrvore de Decisão\nAcurácia\n0.8309\n0.7288\n0.9153\n\n\nLogística Reduzida\nAcurácia\n0.8112\n0.7119\n0.8983\n\n\nLogística Agrupada\nAcurácia\n0.7972\n0.6949\n0.8983\n\n\nÁrvore de Decisão\nPR-AUC\n0.3507\n0.2024\n0.5061\n\n\nLogística Reduzida\nPR-AUC\n0.8313\n0.7126\n0.9267\n\n\nLogística Agrupada\nPR-AUC\n0.8415\n0.7232\n0.9297\n\n\nÁrvore de Decisão\nPrecisão\n0.8234\n0.6875\n0.9429\n\n\nLogística Reduzida\nPrecisão\n0.8137\n0.6748\n0.9355\n\n\nLogística Agrupada\nPrecisão\n0.8136\n0.6762\n0.9376\n\n\nÁrvore de Decisão\nRecall\n0.8756\n0.75\n0.9722\n\n\nLogística Reduzida\nRecall\n0.8432\n0.7097\n0.9584\n\n\nLogística Agrupada\nRecall\n0.8131\n0.6667\n0.9375\n\n\n\n\n\n\nggplot(tabela_ordenada, aes(x = Modelo, y = Media, color = Modelo)) +\n  geom_point(size = 3) +\n  geom_errorbar(aes(ymin = IC_Lower, ymax = IC_Upper), width = 0.2, linewidth = 1) +\n  facet_wrap(~Metrica, scales = \"free_y\") +\n  scale_color_brewer(palette = \"Set1\") +\n  theme_minimal() +\n  labs(\n    title = \"Comparação de Modelos via Bootstrap (n=59 no teste)\",\n    subtitle = \"Pontos representam a média e barras representam o IC de 95%\",\n    y = \"Valor da Métrica\",\n    x = \"\"\n  ) +\n  theme(\n    axis.text.x = element_blank(), # Remove o texto do eixo X para não sobrepor\n    strip.text = element_text(face = \"bold\", size = 10), # Estiliza o título dos quadros\n    legend.position = \"bottom\"\n  )\n\n\n\n\n\n\n\n\nEsse gráfico mostra que o desempenho dos modelos parece ser equivalente entre os modelos, entretando, no PR-AUC, é possível observar que a árvore de decisão teve um valor muito inferior aos outros, ou seja, ela é um modelo muito sensível a pequenas mudanças.\n\nTeste de hipótese de diferença de médias entre o modelo logístico nos dados agrupados e a árvore de decisão\n\nmetricas_nomes &lt;- c(\"Acurácia\", \"Precisão\", \"Recall\", \"AUC\", \"PR-AUC\")\nresultados_testes &lt;- data.frame()\n\n# --- 2. LOOP PARA CÁLCULO DE P-VALOR POR MÉTRICA ---\nfor (i in 1:5) {\n  dist_agrupada &lt;- boot_agrupado$t[, i]\n  dist_arvore   &lt;- boot_arvore$t[, i]\n  \n  # Diferença das distribuições (Agrupada - Árvore)\n  diff_dist &lt;- dist_agrupada - dist_arvore\n  \n  # P-valor: proporção de vezes que a árvore empatou ou venceu\n  p_val &lt;- mean(diff_dist &lt;= 0)\n  \n  # Armazenando resultados\n  resultados_testes &lt;- rbind(resultados_testes, data.frame(\n    Métrica = metricas_nomes[i],\n    Diferença_Média = mean(diff_dist),\n    P_Valor = p_val,\n    Significativo_05 = ifelse(p_val &lt; 0.05, \"Sim\", \"Não\")\n  ))\n}\n\n# --- 3. EXIBIÇÃO DA TABELA ---\npander(resultados_testes, \n       caption = \"Teste de Hipótese via Bootstrap: Logística Agrupada vs. Árvore de Decisão\",\n       digits = 4)\n\n\nTeste de Hipótese via Bootstrap: Logística Agrupada vs. Árvore de Decisão\n\n\n\n\n\n\n\n\nMétrica\nDiferença_Média\nP_Valor\nSignificativo_05\n\n\n\n\nAcurácia\n-0.03378\n0.717\nNão\n\n\nPrecisão\n-0.009789\n0.54\nNão\n\n\nRecall\n-0.06255\n0.759\nNão\n\n\nAUC\n0.0557\n0.22\nNão\n\n\nPR-AUC\n0.4908\n0\nSim\n\n\n\n\n\n\n\nTeste de hipótese de diferença de médias entre o modelo logístico nos dados agrupados e nos dados originais\n\nmetricas_nomes &lt;- c(\"Acurácia\", \"Precisão\", \"Recall\", \"AUC\", \"PR-AUC\")\nresultados_testes &lt;- data.frame()\n\n# --- 2. LOOP PARA CÁLCULO DE P-VALOR POR MÉTRICA ---\nfor (i in 1:5) {\n  dist_agrupada &lt;- boot_agrupado$t[, i]\n  dist_reduzido   &lt;- boot_reduzido$t[, i]\n  \n  # Diferença das distribuições (Agrupada - Árvore)\n  diff_dist &lt;- dist_agrupada - dist_reduzido\n  \n  # P-valor: proporção de vezes que a árvore empatou ou venceu\n  p_val &lt;- mean(diff_dist &lt;= 0)\n  \n  # Armazenando resultados\n  resultados_testes &lt;- rbind(resultados_testes, data.frame(\n    Métrica = metricas_nomes[i],\n    Diferença_Média = mean(diff_dist),\n    P_Valor = p_val,\n    Significativo_05 = ifelse(p_val &lt; 0.05, \"Sim\", \"Não\")\n  ))\n}\n\n# --- 3. EXIBIÇÃO DA TABELA ---\npander(resultados_testes, \n       caption = \"Teste de Hipótese via Bootstrap: Logística Agrupada vs. Árvore de Decisão\",\n       digits = 4)\n\n\nTeste de Hipótese via Bootstrap: Logística Agrupada vs. Árvore de Decisão\n\n\n\n\n\n\n\n\nMétrica\nDiferença_Média\nP_Valor\nSignificativo_05\n\n\n\n\nAcurácia\n-0.014\n0.615\nNão\n\n\nPrecisão\n-0.0001247\n0.508\nNão\n\n\nRecall\n-0.03017\n0.638\nNão\n\n\nAUC\n0.01536\n0.417\nNão\n\n\nPR-AUC\n0.01019\n0.435\nNão"
  }
]